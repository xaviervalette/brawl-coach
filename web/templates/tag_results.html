{% extends 'base.html'%}

{% block table_tag_brawler %}

<div class="bg-dark text-secondary px-4 mt-5 pt-5 text-center border-bottom">
  <h1 class="display-4 fw-bold text-white">{{tag}}</h1>
  </div>
</div>

<div class="px-4 pt-5 my-5 text-center border-bottom">
    <h1 class="display-4 fw-bold">Overall stats</h1>
    <div class="col-lg-6 mx-auto">
      <table class="table">
        <thead class="table-dark">
          <tr class="align-middle">
            <th scope="col"><span class="badge bg-success">Win</span>
              <div class="w-100"></div>
              <span class="badge bg-warning text-dark">Draw</span>
              <div class="w-100"></div>
              <span class="badge bg-danger">Loose</span></th>

            <th scope="col">Star Player</th>
            <th scope="col">Win Rate</th>
            <th scope="col">Star Player Rate</th>
          </tr>
        </thead>
        <tbody>
          <tr class="align-middle">
                <th scope="row"><span class="badge bg-success">{{winNumber}}</span>
                  <div class="w-100"></div>
                  <span class="badge bg-warning text-dark">{{drawNumber}}</span>
                  <div class="w-100"></div>
                  <span class="badge bg-danger">{{looseNumber}}</span></th>
                <th scope="row">{{starNumber}}</th>
                <th scope="row">{{"%.0f"|format(100*winNumber/(winNumber+looseNumber))}}%</th>
                <th scope="row">{{"%.0f"|format(100*starNumber/(winNumber+drawNumber))}}%</th>
            </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="px-4 my-5 text-center border-bottom">
    <h1 class="display-4 fw-bold">Battlelogs</h1>
    <div class="col-lg-6 mx-auto">
      <table class="table">
        <thead class="table-dark">
          <tr>
            <th scope="col">Result</th>
            <th scope="col">Mode</th>
            <th scope="col">Map</th>
            <th scope="col">Star Player</th>
          </tr>
        </thead>
        <tbody>
            {% for i in range(0, len) %}
            <!--<li>{{battlelogs['items'][i]}}</li>-->
                <tr>
                {% if result[i] == "victory" %}
                <th scope="row"><span class="badge bg-success">VICTORY</span></th>
                {% elif result[i] == "defeat" %}
                <th scope="row"><span class="badge bg-danger">DEFEAT</span></th>
                {% elif result[i] == "draw" %}
                <th scope="row"><span class="badge bg-warning text-dark">DRAW</span></th>
                {% else %}
                <th scope="row">N/A</th>
                {% endif %}
                    <td>{{battlelogs['items'][i]["battle"]["mode"]|upper}}</td>
                    <td>{{battlelogs['items'][i]["event"]["map"]|upper}}</td>
                    {% if battlelogs['items'][i]["battle"]["result"] == "victory" %}                    
                    {% if battlelogs['items'][i]["isStarPlayer"] == "yes" %}
                    <th scope="row"><span class="badge bg-success">YES</span></th>
                    {% else %}
                    <th scope="row"><span class="badge bg-danger">NO</span></th>
                    {% endif %}
                    {% else %}
                    <th scope="row"></th>
                    {% endif %}
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    </div>
  {% endblock table_tag_brawler %}

<!-- For loop logic of jinja template -->
{% for i in range(0, len) %}
  
<li>{{battlelogs['items'][i]}}</li>
{% endfor %}
